# Рогатнев Дмитрий Александрович БПИ229

## Запуск программы

Для компиляции программы выполните следующие команды:

```bash
gcc server.c -o server
gcc client.c -o client
```

Далее запустите сервер и клиент в разных терминалах:

Для сервера:

```bash
./server
```

Для клиента:

```bash
./client
```

## Структура данных

Структура `shared_data`, которая хранится в разделяемой памяти, содержит следующие поля:

- `number`: число, которое передается от клиента к серверу.
- `is_new_data`: флаг, указывающий на то, что клиент записал новое число в разделяемую память.
- `is_finished`: флаг, указывающий на то, что клиент завершил генерацию чисел.

## Работа программы

Программа состоит из сервера и клиента, которые обмениваются данными через разделяемую память и семафоры. Сервер создает разделяемую память, генерирует случайные числа и записывает их туда. Затем он увеличивает семафор, чтобы сообщить клиенту о готовности данных, и завершает работу. Клиент ожидает сигнала от сервера, после чего открывает разделяемую память, считывает данные и выводит их на экран. Программа может быть запущена с таймером, который прерывает работу сервера через определенное время.

## Дополнительные варианты завершения работы

### Вариант 1: Использование сигналов

В этом варианте клиент отправляет сигнал серверу, когда он завершает генерацию чисел. Сервер, получив сигнал, завершает
свою работу и удаляет сегмент разделяемой памяти. Это обеспечивает корректное завершение работы обоих процессов.

- Не смог реализовать :(

### Вариант 2: Использование тайм-аута

В этом варианте сервер автоматически завершает работу через определенное время после последнего полученного числа. После завершения работы
сервер удаляет сегмент разделяемой памяти.

Для запуска сервера с тайм-аутом в 10 секунд выполните следующие команды:

Для запуска сервера:

```bash
./server timer
```

Для запуска клиента:

```bash
./client
```
